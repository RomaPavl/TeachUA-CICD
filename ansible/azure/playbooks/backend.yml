- name: Deploy TeachUA Backend
  hosts: backend
  become: true
  vars:
    db_port: 5432
    db_user: pmp2025
    dump_file: teachua_full_dump.sql
    packages:
      - postgresql-client
      - python3-psycopg2
  roles:
    - role: backend
      vars:
        client_id: "{{ azure_client_id }}"
        secret: "{{ azure_client_secret }}"
        tenant: "{{ azure_tenant_id }}"
        vault_url: "https://roma-kv-dev3.vault.azure.net"
